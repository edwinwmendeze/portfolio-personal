---
// src/components/common/CTASection.astro
import Button from '../ui/Button.astro';
import Card from '../ui/Card.astro';
import { getPath } from '@utils/routeUtils';

interface Props {
  title?: string;
  description?: string;
  primaryButtonText?: string;
  secondaryButtonText?: string;
  primaryButtonHref?: string;
  secondaryButtonHref?: string;
  delay?: number;
}

const {
  title = "¿Buscas un profesional para tu equipo?",
  description = "Estoy disponible para nuevos proyectos y oportunidades laborales. ¡Hablemos sobre cómo puedo aportar valor a tu empresa!",
  primaryButtonText = "Ver mi CV completo",
  secondaryButtonText = "Contactar",
  primaryButtonHref = getPath('cv'),
  secondaryButtonHref = getPath('contact'),
  delay = 300
} = Astro.props;
---

<div class="cta-container animate-on-scroll" data-animation="fade-in" data-delay={delay}>
  <Card variant="elevated" class="cta-card">
    <h2 class="cta-title">{title}</h2>
    <p class="cta-description">{description}</p>
    <div class="cta-buttons">
      <Button href={primaryButtonHref} variant="primary" size="medium" class="animate-on-scroll" data-animation="fade-up" data-delay={delay + 200}>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        {primaryButtonText}
      </Button>
      <Button href={secondaryButtonHref} variant="outline" size="medium" class="animate-on-scroll" data-animation="fade-up" data-delay={delay + 400}>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
        {secondaryButtonText}
      </Button>
    </div>
  </Card>
</div>

<style>
  .cta-container {
    margin: var(--space-xl) 0;
  }
  
  .cta-card {
    text-align: center;
    padding: var(--space-xl);
    background-color: var(--color-background-alt);
    border: 1px solid var(--color-border);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .cta-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 
                0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  .cta-title {
    font-size: var(--text-xl);
    margin-bottom: var(--space-md);
    color: var(--color-primary);
  }
  
  .cta-description {
    margin-bottom: var(--space-lg);
    color: var(--color-text-light);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .cta-buttons {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    flex-wrap: wrap;
  }
  
  @media (max-width: 768px) {
    .cta-buttons {
      flex-direction: column;
      gap: var(--space-sm);
    }
  }
</style>

<script>
  import { initAnimations } from '../../scripts/animateOnScroll.js';
  
  document.addEventListener('DOMContentLoaded', () => {
    initAnimations();
  });
  
  document.addEventListener('astro:page-load', () => {
    initAnimations();
  });
</script> 